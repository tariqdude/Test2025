---
import { SITE_TITLE } from '../consts';

const baseUrl = import.meta.env.BASE_URL;

const links = [
  { label: 'About', href: `${baseUrl}about/` },
  { label: 'Services', href: `${baseUrl}services/` },
  { label: 'Pricing', href: `${baseUrl}pricing/` },
  { label: 'Blog', href: `${baseUrl}blog/` },
];
---

<header
  class="sticky top-0 z-40 border-b border-neutral-200 bg-white/85 backdrop-blur"
>
  <nav
    class="mx-auto flex max-w-6xl items-center justify-between px-4 py-4 sm:px-6 lg:px-8"
  >
    <a class="flex items-center gap-3" href={baseUrl}>
      <span
        class="inline-flex h-9 w-9 items-center justify-center rounded-xl border border-brand-100 bg-brand-50 text-sm font-semibold text-brand-700 shadow-sm"
      >
        EP
      </span>
      <div class="flex flex-col leading-tight">
        <span class="text-sm font-semibold tracking-tight text-neutral-900">
          {SITE_TITLE}
        </span>
        <span
          class="text-xs font-medium uppercase tracking-[0.22em] text-neutral-500"
        >
          Static Operations Studio
        </span>
      </div>
    </a>

    <div
      class="hidden md:flex items-center gap-8 text-sm font-medium text-neutral-600"
    >
      <a class="transition hover:text-neutral-900" href={baseUrl}> Home </a>
      {
        links.map(link => (
          <a class="transition hover:text-neutral-900" href={link.href}>
            {link.label}
          </a>
        ))
      }
    </div>

    <div class="hidden md:flex items-center gap-3">
      <a
        class="inline-flex items-center justify-center rounded-full border border-neutral-300 px-4 py-2 text-sm font-semibold text-neutral-800 transition hover:border-neutral-400 hover:bg-white"
        href="/showcase"
      >
        View showcase
      </a>
      <a
        class="inline-flex items-center justify-center rounded-full bg-brand-600 px-4 py-2 text-sm font-semibold text-white shadow-elevation-xs transition hover:bg-brand-700"
        href="/contact"
      >
        Talk to us
      </a>
    </div>

    <div class="md:hidden">
      <button
        class="inline-flex h-10 w-10 items-center justify-center rounded-lg border border-neutral-300 text-neutral-700 transition hover:border-neutral-400 hover:text-neutral-900"
        id="mobile-menu-button"
        type="button"
      >
        <span class="sr-only">Toggle navigation</span>
        <svg
          class="h-5 w-5"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            d="M4 7h16M4 12h16M4 17h16"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="1.5"></path>
        </svg>
      </button>
    </div>
  </nav>

  <div class="md:hidden" id="mobile-menu" hidden>
    <div
      class="space-y-1 border-t border-neutral-200 bg-white px-4 py-4 shadow-sm"
    >
      <a
        class="block rounded-lg px-3 py-2 text-sm font-medium text-neutral-700 hover:bg-neutral-100"
        href={baseUrl}
      >
        Home
      </a>
      {
        links.map(link => (
          <a
            class="block rounded-lg px-3 py-2 text-sm font-medium text-neutral-700 hover:bg-neutral-100"
            href={link.href}
          >
            {link.label}
          </a>
        ))
      }
      <a
        class="block rounded-lg px-3 py-2 text-sm font-semibold text-white bg-brand-600 hover:bg-brand-700"
        href="/contact"
      >
        Talk to us
      </a>
    </div>
  </div>
</header>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const toggle = document.getElementById('mobile-menu-button');
    const menu = document.getElementById('mobile-menu');

    if (!toggle || !menu) {
      return;
    }

    toggle.addEventListener('click', () => {
      const isHidden = menu.hasAttribute('hidden');
      if (isHidden) {
        menu.removeAttribute('hidden');
      } else {
        menu.setAttribute('hidden', '');
      }
    });
  });
</script>
