---
import MarketingLayout from '../layouts/MarketingLayout.astro';

const contactMethods = [
  {
    label: 'Email',
    value: 'hello@eliteproject.dev',
    description: 'We reply within one business day.',
    href: 'mailto:hello@eliteproject.dev',
  },
  {
    label: 'Phone',
    value: '+1 (555) 123-4567',
    description: 'Available Monday to Friday, 9am – 6pm ET.',
    href: 'tel:+15551234567',
  },
  {
    label: 'Office',
    value: '123 Innovation Street, Tech City',
    description: 'Book a visit to see the team in person.',
    href: 'https://maps.google.com',
  },
];

const officeHours = [
  { day: 'Monday – Friday', hours: '9:00 – 18:00' },
  { day: 'Saturday', hours: '10:00 – 14:00' },
  { day: 'Sunday', hours: 'On call for critical incidents' },
];

const commitments = [
  'Single inbox monitored by the core maintainers—no ticket deflection.',
  'Response within one business day during the work week.',
  'Optional NDA available before sharing sensitive infrastructure details.',
];
---

<MarketingLayout
  title="Contact Us | Elite Project"
  description="Reach the Elite Project team for support, partnerships, or general questions."
>
  <section class="relative overflow-hidden bg-slate-950 text-slate-100">
    <div
      class="absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(67,56,202,0.18),_transparent_60%)]"
    >
    </div>
    <div
      class="relative mx-auto flex max-w-6xl flex-col gap-16 px-6 pb-24 pt-28 lg:flex-row lg:items-start lg:justify-between"
    >
      <div class="max-w-xl space-y-6">
        <p
          class="text-xs font-semibold uppercase tracking-[0.35em] text-slate-400"
        >
          Contact
        </p>
        <h1 class="text-4xl font-semibold text-white sm:text-5xl">
          We are ready when you need a steady partner.
        </h1>
        <p class="text-lg text-slate-300">
          Reach out through the form or choose the channel that fits your
          workflow. The core maintainers reply directly—no handoffs or tiered
          support.
        </p>
        <div class="grid gap-4 sm:grid-cols-2">
          {
            contactMethods.map(method => (
              <a
                class="group flex flex-col rounded-2xl border border-white/10 bg-white/5 p-5 transition hover:border-white/25"
                href={method.href}
              >
                <span class="text-xs font-semibold uppercase tracking-[0.25em] text-slate-400">
                  {method.label}
                </span>
                <span class="mt-2 text-lg font-semibold text-white">
                  {method.value}
                </span>
                <span class="mt-3 text-sm text-slate-300">
                  {method.description}
                </span>
              </a>
            ))
          }
        </div>
      </div>

      <div
        class="w-full max-w-lg space-y-10 rounded-3xl border border-white/10 bg-white/5 p-8 backdrop-blur-xl"
      >
        <form class="space-y-6" id="contact-form">
          <div class="space-y-2">
            <label class="text-sm font-medium text-slate-200" for="name"
              >Full name <span class="text-red-400">*</span></label
            >
            <input
              class="w-full rounded-2xl border border-white/10 bg-slate-950/70 px-4 py-3 text-sm text-white placeholder:text-slate-500 focus:border-indigo-400 focus:outline-none focus:ring-1 focus:ring-indigo-400"
              id="name"
              name="name"
              type="text"
              autocomplete="name"
              placeholder="Ada Lovelace"
              aria-required="true"
              minlength="2"
              required
            />
            <span class="text-xs text-red-400 hidden" id="name-error" role="alert"></span>
          </div>

          <div class="space-y-2">
            <label class="text-sm font-medium text-slate-200" for="email"
              >Email <span class="text-red-400">*</span></label
            >
            <input
              class="w-full rounded-2xl border border-white/10 bg-slate-950/70 px-4 py-3 text-sm text-white placeholder:text-slate-500 focus:border-indigo-400 focus:outline-none focus:ring-1 focus:ring-indigo-400"
              id="email"
              name="email"
              type="email"
              autocomplete="email"
              placeholder="you@example.com"
              aria-required="true"
              required
            />
            <span class="text-xs text-red-400 hidden" id="email-error" role="alert"></span>
          </div>

          <div class="space-y-2">
            <label class="text-sm font-medium text-slate-200" for="subject"
              >Subject <span class="text-red-400">*</span></label
            >
            <select
              class="w-full appearance-none rounded-2xl border border-white/10 bg-slate-950/70 px-4 py-3 text-sm text-white focus:border-indigo-400 focus:outline-none focus:ring-1 focus:ring-indigo-400"
              id="subject"
              name="subject"
              aria-required="true"
              required
            >
              <option value="">Choose an option</option>
              <option value="support">Technical support</option>
              <option value="feedback">Product feedback</option>
              <option value="partnership">Partnership inquiry</option>
              <option value="other">Something else</option>
            </select>
            <span class="text-xs text-red-400 hidden" id="subject-error" role="alert"></span>
          </div>

          <div class="space-y-2">
            <label class="text-sm font-medium text-slate-200" for="message"
              >Message <span class="text-red-400">*</span></label
            >
            <textarea
              class="h-32 w-full rounded-2xl border border-white/10 bg-slate-950/70 px-4 py-3 text-sm text-white placeholder:text-slate-500 focus:border-indigo-400 focus:outline-none focus:ring-1 focus:ring-indigo-400"
              id="message"
              name="message"
              placeholder="Share a few details so we can prepare a helpful reply."
              aria-required="true"
              minlength="10"
              required></textarea>
            <span class="text-xs text-red-400 hidden" id="message-error" role="alert"></span>
          </div>

          <div class="hidden rounded-2xl border border-green-500/20 bg-green-500/10 p-4" id="success-message" role="status">
            <p class="text-sm font-medium text-green-300">
              ✓ Thank you for your message! We'll get back to you soon.
            </p>
          </div>

          <button
            class="inline-flex w-full items-center justify-center gap-2 rounded-2xl bg-indigo-500 px-4 py-3 text-sm font-semibold text-white transition hover:bg-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-offset-2 focus:ring-offset-slate-950 disabled:opacity-50 disabled:cursor-not-allowed"
            type="submit"
            id="submit-button"
          >
            <span id="button-text">Send message</span>
            <span class="hidden" id="button-loading">Sending...</span>
          </button>
          <p class="text-xs text-slate-400">
            This presentational form keeps submissions in the browser—swap the
            action or embed a service such as Formspree when you are ready to
            collect entries.
          </p>
        </form>

        <script is:inline>
          document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('contact-form');
            const submitButton = document.getElementById('submit-button');
            const buttonText = document.getElementById('button-text');
            const buttonLoading = document.getElementById('button-loading');
            const successMessage = document.getElementById('success-message');

            if (!form) return;

            // Form validation
            const validateField = (field) => {
              const errorSpan = document.getElementById(`${field.id}-error`);
              if (!errorSpan) return true;

              if (!field.validity.valid) {
                let message = '';
                if (field.validity.valueMissing) {
                  message = 'This field is required.';
                } else if (field.validity.typeMismatch && field.type === 'email') {
                  message = 'Please enter a valid email address.';
                } else if (field.validity.tooShort) {
                  message = `Please enter at least ${field.minLength} characters.`;
                }
                errorSpan.textContent = message;
                errorSpan.classList.remove('hidden');
                field.classList.add('border-red-400');
                return false;
              } else {
                errorSpan.classList.add('hidden');
                field.classList.remove('border-red-400');
                return true;
              }
            };

            // Add real-time validation
            form.querySelectorAll('input, select, textarea').forEach((field) => {
              field.addEventListener('blur', () => validateField(field));
              field.addEventListener('input', () => {
                if (field.classList.contains('border-red-400')) {
                  validateField(field);
                }
              });
            });

            // Handle form submission
            form.addEventListener('submit', (e) => {
              e.preventDefault();
              
              // Validate all fields
              let isValid = true;
              form.querySelectorAll('input, select, textarea').forEach((field) => {
                if (!validateField(field)) {
                  isValid = false;
                }
              });

              if (!isValid) return;

              // Show loading state
              submitButton.disabled = true;
              buttonText.classList.add('hidden');
              buttonLoading.classList.remove('hidden');

              // Simulate form submission (replace with actual submission logic)
              setTimeout(() => {
                submitButton.disabled = false;
                buttonText.classList.remove('hidden');
                buttonLoading.classList.add('hidden');
                successMessage.classList.remove('hidden');
                form.reset();

                // Hide success message after 5 seconds
                setTimeout(() => {
                  successMessage.classList.add('hidden');
                }, 5000);
              }, 1000);
            });
          });
        </script>

        <div
          class="space-y-4 rounded-2xl border border-white/10 bg-slate-950/50 p-6"
        >
          <h2 class="text-base font-semibold text-white">Office hours</h2>
          <ul class="space-y-2 text-sm text-slate-300">
            {
              officeHours.map(slot => (
                <li class="flex items-center justify-between">
                  <span>{slot.day}</span>
                  <span class="text-slate-400">{slot.hours}</span>
                </li>
              ))
            }
          </ul>
        </div>
      </div>
    </div>
  </section>

  <section class="relative border-y border-white/10 bg-slate-950/80">
    <div
      class="pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_center,_rgba(59,130,246,0.1),_transparent_75%)]"
    >
    </div>
    <div
      class="relative mx-auto max-w-5xl px-6 py-16 text-center text-slate-300"
    >
      <p
        class="text-xs font-semibold uppercase tracking-[0.35em] text-indigo-200/70"
      >
        Response commitments
      </p>
      <h2 class="mt-4 text-3xl font-semibold text-white">
        Direct access to the maintainers
      </h2>
      <p class="mt-4 text-base text-slate-300">
        Whether you share a quick question or a full project brief, expect
        specifics, realistic timelines, and a clear next step.
      </p>
      <ul class="mt-10 grid gap-4 text-left md:grid-cols-3">
        {
          commitments.map(item => (
            <li class="glass-panel h-full rounded-2xl border border-white/10 bg-white/5 p-5 text-sm text-slate-200 shadow-lg shadow-indigo-500/5">
              {item}
            </li>
          ))
        }
      </ul>
    </div>
  </section>

  <section class="relative overflow-hidden bg-slate-950">
    <div
      class="absolute inset-0 bg-[radial-gradient(circle_at_bottom,_rgba(14,165,233,0.12),_transparent_70%)]"
    >
    </div>
    <div
      class="relative mx-auto flex max-w-4xl flex-col gap-6 px-6 py-16 text-center text-slate-300"
    >
      <h2 class="text-3xl font-semibold text-white">
        Prefer to talk it through?
      </h2>
      <p class="text-base text-slate-300">
        Share your timeline, the systems in scope, and the level of support you
        expect. We will prepare a short agenda before hopping on a call.
      </p>
      <div class="flex flex-wrap justify-center gap-4">
        <a
          class="inline-flex items-center gap-2 rounded-full border border-white/20 px-5 py-2 text-sm font-semibold text-slate-100 transition hover:border-white/35 hover:bg-white/10"
          href="mailto:hello@eliteproject.dev"
        >
          Email the team
        </a>
        <a
          class="inline-flex items-center gap-2 rounded-full border border-white/20 px-5 py-2 text-sm font-semibold text-slate-100 transition hover:border-white/35 hover:bg-white/10"
          href="tel:+15551234567"
        >
          Book a quick call
        </a>
      </div>
    </div>
  </section>
</MarketingLayout>
